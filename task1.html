<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>fizzbuzz問題</title>
    </head>
    <body>
        <h1>FizzBuzz問題</h1>
        <div>
          FizzNum：<input type="text" id="fizz_form" size="21" placeholder="整数値を入力してください">
        </div>
        <div>
          buzzNum：<input type="text" id="buzz_form" size="21" placeholder="整数値を入力してください">
        </div>
        <input type="button" id ="execution" value="実行">
        <p>【出力】</p>
        <div id = "list">
        </div>
      <script>
          document.getElementById("execution").addEventListener("click", function(){
            var result = document.getElementById("list");
            while(result.firstChild){
                result.removeChild(result.firstChild);
                }
                
            var fizz_num = document.getElementById("fizz_form").value;
            var buzz_num = document.getElementById("buzz_form").value;
            if(fizz_num == "" || buzz_num == ""){ // どちらかが空欄の時
              var div = document.createElement('div');
              div.textContent = "数値を入力してください";
              result.appendChild(div);
            }else if(fizz_num == 0 && buzz_num == 0){// fizz_numがbuzz_numが0のとき
              var div = document.createElement('div');
              div.textContent = "FizzBuzz " + "0";
              result.appendChild(div);
            }else{
              var fizz_num_change = Number(fizz_num); 
              var buzz_num_change = Number(buzz_num);           
                if (Number.isInteger(fizz_num_change) && Number.isInteger(buzz_num_change)){  // 共に整数の時
                  var array = [];
                  for (let num = fizz_num_change; num < 100;　num += fizz_num_change){
                    array.push(num);
                  }
                  for (let num = buzz_num_change; num < 100;　num += buzz_num_change){
                    array.push(num);
                  }
                  array.sort(
                    function(a,b) {
                    return a - b;
                    }
                  );
                  var non_duplication_array = array.filter(function (x, i, self) {
                    return self.indexOf(x) === i;
                  });
                    for (let i = 0; i < non_duplication_array.length; ++i) {
                      if(fizz_num == 0 && buzz_num == 0){// fizz_numがbuzz_numが0のとき
                        var div = document.createElement('div');
                        div.textContent = "FizzBuzz " + "0";
                        result.appendChild(div);
                      }else if(non_duplication_array[i] % fizz_num == 0 && non_duplication_array[i] % buzz_num == 0){ // 共に倍数の時
                        var div = document.createElement('div');
                        div.textContent = "FizzBuzz " + non_duplication_array[i];
                        result.appendChild(div);
                      }else if(non_duplication_array[i] % fizz_num == 0){ // fizzに倍数の時
                        var div = document.createElement('div');
                        div.textContent = "Fizz " + non_duplication_array[i];
                        result.appendChild(div);
                      }else if(non_duplication_array[i] % buzz_num == 0){ // buzzに倍数の時
                        var div = document.createElement('div');
                        div.textContent = "Buzz " + non_duplication_array[i];
                        result.appendChild(div);
                      };
                    };
                }else{// どちらかが整数以外の時
                  var div = document.createElement('div');
                  div.textContent = "整数値を入力してください";
                  result.appendChild(div);
                };
          };
          });
      </script>
    </body>
</html>